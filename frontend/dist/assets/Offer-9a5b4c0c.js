import{_ as F,j as R,r as i,k as z,b as p,d as f,o as v,e as _,g as s,f as l,B as L,h as Y,F as w,y as G,w as b,t as h,p as H,i as J}from"./index-ac52e6b3.js";const y=m=>(H("data-v-c4348700"),m=m(),J(),m),K={class:"col-12 xl:col-12"},P={class:"card flex flex-column"},Q={class:"flex justify-content-between align-items-center mb-5"},W=y(()=>l("h5",null,"Offers",-1)),X={class:"flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4"},Z={class:"text-900 font-medium mr-2 mb-1 md:mb-0"},$={class:"mt-1 text-600 max-width:50%"},ee={key:0,class:"text-orange-500 ml-3 font-medium"},te={key:1,class:"text-orange-500 ml-3 font-medium"},le={class:"line-height-3 mb-3"},oe={class:"formgrid grid"},se={class:"field col"},ae=y(()=>l("label",{for:"quantity"},"Title",-1)),ne={class:"field"},ie=y(()=>l("label",{for:"name"},"Description",-1)),ce={class:"flex align-items-center justify-content-center"},ue=y(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),de={__name:"Offer",props:["isAdmin"],setup(m){const g=m,A=R(),n=i(""),V=()=>{A.add({severity:"success",summary:"success",detail:"Action succeded",life:3e3})};i(0);const u=i(!1),c=i(!1),d=i({});z(()=>{p.get("/api/offers").then(r=>{d.value=r.data.data})});const x=i(!1),O=i(""),C=r=>{O.value=r,x.value=!0},t=i({id:"",title:"",description:""}),T=()=>{t.value={},x.value=!1},q=()=>{n.value="edit",u.value=!0},B=()=>{n.value="delete",c.value=!0},D=()=>{n.value="apply",c.value=!0},I=()=>{t.value={},n.value="add",u.value=!0},N=()=>{p.get("/sanctum/csrf-cookie").then(r=>{n.value=="delete"?p.delete("/api/offers/"+t.value.id,t.value).then(e=>{d.value=e.data.data,console.log(e.data.data)}).catch(e=>{console.error("Error in Axios request:",e)}):n.value=="add"?p.post("/api/offers/",t.value).then(e=>{d.value=e.data.data,console.log(e.data.data)}).catch(e=>{console.error("Error in Axios request:",e)}):n.value=="edit"?p.put("/api/offers/"+t.value.id,t.value).then(e=>{d.value=e.data.data,console.log(e.data.data)}).catch(e=>{console.error("Error in Axios request:",e)}):n.value=="apply"&&p.post("/api/candidats/apply/"+t.value.id).then(e=>{V(),d.value=e.data.data,console.log(e.data.data)}).catch(e=>{console.error("Error in Axios request:",e)})})};return(r,e)=>{const S=f("Toast"),a=f("Button"),E=f("Menu"),k=f("Dialog"),U=f("InputText"),j=f("Textarea");return v(),_(w,null,[s(S),l("div",K,[l("div",P,[l("div",Q,[W,l("div",null,[g.isAdmin==1?(v(),L(a,{key:0,label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:I})):Y("",!0),s(E,{ref:"menu2",popup:!0,model:r.items},null,8,["model"])])]),(v(!0),_(w,null,G(d.value,(o,M)=>(v(),_("ul",{class:"list-none p-0 m-0",key:M},[l("li",X,[l("div",null,[l("span",Z,h(o.title),1),l("div",$,h(o.created_at),1)]),g.isAdmin==1?(v(),_("span",ee,[s(a,{icon:"pi pi-eye",class:"p-button p-button-primary mr-2",onClick:()=>{t.value=o,C()}},null,8,["onClick"]),s(a,{icon:"pi pi-pencil",class:"p-button p-button-warning mr-2",onClick:()=>{t.value=o,q()}},null,8,["onClick"]),s(a,{icon:"pi pi-trash",class:"p-button p-button-danger mt-2",onClick:()=>{t.value=o,B()}},null,8,["onClick"])])):(v(),_("span",te,[s(a,{icon:"pi pi-eye",class:"p-button p-button-primary mr-2",onClick:()=>{t.value=o,C()}},null,8,["onClick"]),s(a,{label:"apply",class:"p-button p-button-warning mt-2",onClick:()=>{t.value=o,D()}},null,8,["onClick"])]))])]))),128))])]),s(k,{header:t.value.title,visible:x.value,"onUpdate:visible":e[0]||(e[0]=o=>x.value=o),breakpoints:{"960px":"75vw"},style:{width:"30vw"},modal:!0},{default:b(()=>[l("p",le,h(t.value.description),1),s(a,{label:"Ok",onClick:T,icon:"pi pi-check",class:"p-button-outlined mt-2"})]),_:1},8,["header","visible"]),s(k,{visible:u.value,"onUpdate:visible":e[5]||(e[5]=o=>u.value=o),style:{width:"450px"},header:"Offer item ",modal:!0,class:"p-fluid"},{footer:b(()=>[s(a,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:e[3]||(e[3]=()=>{u.value=!1})}),s(a,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:e[4]||(e[4]=()=>{c.value=!0,u.value=!1})})]),default:b(()=>[l("div",oe,[l("div",se,[ae,s(U,{modelValue:t.value.title,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.title=o)},null,8,["modelValue"])])]),l("div",ne,[ie,s(j,{modelValue:t.value.description,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.description=o)},null,8,["modelValue"])])]),_:1},8,["visible"]),s(k,{visible:c.value,"onUpdate:visible":e[8]||(e[8]=o=>c.value=o),style:{width:"500px"},header:"Confirm",modal:!0},{footer:b(()=>[s(a,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:e[6]||(e[6]=()=>{c.value=!1})}),s(a,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:e[7]||(e[7]=()=>{c.value=!1,N()})})]),default:b(()=>[l("div",ce,[ue,l("span",null,"Are you sure you want to "+h(n.value)+" the selected offer ?",1)])]),_:1},8,["visible"])],64)}}},pe=F(de,[["__scopeId","data-v-c4348700"]]);export{pe as default};
