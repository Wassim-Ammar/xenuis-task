import{_ as L,r as e,q as T,b as _,k as M,v as B,d as p,o as w,e as k,f as o,g as t,w as l,h as D,p as A,i as I}from"./index-ac52e6b3.js";const h=m=>(A("data-v-a70c9161"),m=m(),I(),m),V={class:"grid"},E={class:"col-12"},F={class:"card"},U=h(()=>o("template",null,[o("span",{class:"p-column-title"},"Name")],-1)),j=h(()=>o("template",null,[o("span",{class:"p-column-title"},"Surname")],-1)),q=h(()=>o("template",null,[o("span",{class:"p-column-title"},"Mobile")],-1)),O={class:"flex align-items-center justify-content-center"},z=h(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),K={key:0},Y={__name:"Recruitments",setup(m){e({}),e(null),e(!1),e(!1);const n=e(!1),y=e({}),f=e(null),C=e(null),b=e({});e(!1),T(()=>{S()});const g=e(0),i=e({email:"",response:""});e({name:"",surname:"",cin:"",role:"",email:"",mobile:"",address:"",city:"",permission:"",state:""});const v=e([]);_.defaults.withCredentials=!0,_.defaults.baseURL="http://localhost:8000",M(()=>{_.get("/api/candidats").then(c=>{v.value=c.data.data,console.log(v.value)})}),e("");const x=(c,a)=>{_.post("/api/candidats/send-email",i.value).then(r=>{console.log(r.data.data)}).catch(r=>{console.error("Error in Axios request:",r)}),n.value=!1},P=()=>{const c="http://localhost:8000/api/candidats/cv/"+g.value,a=document.createElement("a");a.href=c,a.download="cv.pdf",a.click()},S=()=>{b.value={global:{value:null,matchMode:B.CONTAINS}}};return(c,a)=>{const r=p("Toast"),d=p("Column"),u=p("Button"),R=p("DataTable"),N=p("Dialog");return w(),k("div",V,[o("div",E,[o("div",F,[t(r),t(R,{ref_key:"dt",ref:C,value:v.value,selection:f.value,"onUpdate:selection":a[0]||(a[0]=s=>f.value=s),dataKey:"id",paginator:!0,rows:4,filters:b.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{default:l(()=>[t(d,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{default:l(()=>[U]),_:1}),t(d,{field:"surname",header:"Surname",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{default:l(()=>[j]),_:1}),t(d,{field:"mobile",header:"Mobile",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{default:l(()=>[q]),_:1}),t(d,{header:"CV",headerStyle:"width:10%; min-width:10rem;"},{body:l(s=>[t(u,{label:"CV",class:"p-button-rounded p-button-primary mr-2",onClick:()=>{g.value=s.data.id,P()}},null,8,["onClick"])]),_:1}),t(d,{headerStyle:"min-width:5rem;",header:"Action"},{body:l(s=>[t(u,{label:"Accept",class:"p-button-rounded p-button-success mr-2",onClick:()=>{n.value=!0,i.value.email=s.data.email,i.value.response="accept"}},null,8,["onClick"]),t(u,{label:"Reject",class:"p-button-rounded p-button-warning mt-2",onClick:()=>{n.value=!0,i.value.email=s.data.email,i.value.response="refuse"}},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),t(N,{visible:n.value,"onUpdate:visible":a[2]||(a[2]=s=>n.value=s),style:{width:"450px"},header:"Confirm",modal:!0},{footer:l(()=>[t(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[1]||(a[1]=s=>n.value=!1)}),t(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:x})]),default:l(()=>[o("div",O,[z,y.value?(w(),k("span",K,"Are you sure you want to delete the selected products?")):D("",!0)])]),_:1},8,["visible"])])])])}}},G=L(Y,[["__scopeId","data-v-a70c9161"]]);export{G as default};
