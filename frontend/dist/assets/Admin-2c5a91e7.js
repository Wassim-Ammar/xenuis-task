import{r as i,k as w,b as o,d as f,o as g,e as y,f as e,t as a,l as b,g as l,w as n,m,F as k,s as x,n as A}from"./index-ac52e6b3.js";import C from"./Offer-9a5b4c0c.js";import j from"./Recruitments-5b4336d4.js";const B={class:"grid card"},E={class:"col-12 lg:col-4"},N={class:"card"},D={class:"text-center mb-5"},q={class:"text-900 text-3xl font-medium mb-3"},R={class:"text-center"},U={class:"flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"},V=e("div",{class:"text-500 w-6 md:w-2 font-medium"},"Name",-1),F={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},I=e("div",{class:"w-6 md:w-2 flex justify-content-end"},null,-1),L={class:"flex align-items-center py-3 px-2 flex-wrap"},O=e("div",{class:"text-500 w-6 md:w-2 font-medium"},"Surname",-1),S={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},$=e("div",{class:"w-6 md:w-2 flex justify-content-end"},null,-1),z={class:"flex align-items-center py-3 px-2 flex-wrap"},M=e("div",{class:"text-500 w-6 md:w-2 font-medium"},"Lives",-1),T={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},W=e("div",{class:"w-6 md:w-2 flex justify-content-end"},null,-1),Y={class:"flex align-items-center py-3 px-2 flex-wrap"},G=e("div",{class:"text-500 w-6 md:w-2 font-medium"},"Email",-1),H={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},J=e("div",{class:"w-6 md:w-2 flex justify-content-end"},null,-1),K={class:"flex align-items-center py-3 px-2 flex-wrap"},P=e("div",{class:"text-500 w-6 md:w-2 font-medium"},"Contact",-1),Q={class:"text-900 w-full md:w-8 md:flex-order-0 flex-order-1"},X=e("div",{class:"w-6 md:w-2 flex justify-content-end"},null,-1),Z={class:"col-12 lg:col-8"},ee={class:"card"},se={class:"card"},te={class:"card"},oe=e("div",{class:"flex align-items-center justify-content-center"},[e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),e("span",null,"Are you sure you want to delete the selected Items?")],-1),ce={__name:"Admin",setup(le){const d=i(!1);i(!1);const c=i(""),t=i({name:"",surname:"",cin:"",role:"",email:"",mobile:"",address:"",city:"",permission:"",state:"",password:""}),p=i({old_password:"",new_password:""});w(()=>{o.get("/sanctum/csrf-cookie").then(r=>{o.get("/api/me").then(s=>{console.log(s.data.data),t.value=s.data.data,t.value.email=s.data.data.user.email}).catch(s=>{console.error("Error in Axios request:",s)})})}),o.defaults.withCredentials=!0,o.defaults.baseURL="http://localhost:8000";const v=()=>{c.value==1?o.get("/sanctum/csrf-cookie").then(r=>{o.put("/api/users/"+t.value.id,t.value).then(s=>{console.log(s.data.data)}).catch(s=>{console.error("Error in Axios request:",s)})}):c.value==2&&o.get("/sanctum/csrf-cookie").then(r=>{o.post("/api/change-password/"+t.value.id,p.value).then(s=>{console.log(s.data.data)}).catch(s=>{console.error("Error in Axios request:",s)})}),d.value=!1};return(r,s)=>{const u=f("Button"),h=f("Dialog");return g(),y(k,null,[e("div",B,[e("div",E,[e("div",N,[e("div",D,[e("div",q," Welcome, "+a(t.value.name)+"! ",1)]),e("div",R,[b(a(c.value)+" ",1),e("ul",null,[e("li",U,[V,e("div",F,a(t.value.name),1),I]),e("li",L,[O,e("div",S,a(t.value.surname),1),$]),e("li",z,[M,e("div",T,a(t.value.address),1),W]),e("li",Y,[G,e("div",H,a(t.value.email),1),J]),e("li",K,[P,e("div",Q," (+216) "+a(t.value.mobile),1),X])])])])]),e("div",Z,[l(m(A),null,{default:n(()=>[e("div",ee,[l(m(x),{header:"Offers",class:"card"},{default:n(()=>[e("div",se,[e("div",null,[l(C,{isAdmin:1})])])]),_:1})]),l(m(x),{header:"Recruitments"},{default:n(()=>[e("div",te,[e("div",null,[l(j)])])]),_:1})]),_:1})])]),l(h,{visible:d.value,"onUpdate:visible":s[1]||(s[1]=_=>d.value=_),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[l(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[0]||(s[0]=_=>d.value=!1)}),l(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:v})]),default:n(()=>[oe]),_:1},8,["visible"])],64)}}};export{ce as default};
